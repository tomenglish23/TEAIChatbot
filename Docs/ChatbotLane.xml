<mxfile host="app.diagrams.net">
  <diagram id="slice1" name="Slice 1 - Social to Flow">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Lane labels -->
        <mxCell id="lane1" value="Lane 1 – Client &amp; Channel" style="text;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="20" width="300" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="lane2" value="Lane 2 – Ingress &amp; Flow Engine" style="text;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="150" width="350" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="lane3" value="Lane 3 – Outbound" style="text;strokeColor=none;fillColor=none;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="280" width="250" height="30" as="geometry"/>
        </mxCell>

        <!-- Lane 1 boxes -->
        <mxCell id="user" value="User" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e5e7eb;strokeColor=#111827;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="40" y="60" width="100" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="socialUi" value="Social UI" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e5e7eb;strokeColor=#111827;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="180" y="60" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="trigger" value="Trigger Phrase" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e5e7eb;strokeColor=#111827;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="340" y="60" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="platformEvent" value="Platform Event (raw)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e5e7eb;strokeColor=#111827;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="520" y="60" width="170" height="50" as="geometry"/>
        </mxCell>

        <!-- Lane 2 boxes -->
        <mxCell id="channelAdapter" value="Channel Adapter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#1d4ed8;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="120" y="190" width="150" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="ingressHandler" value="Ingress Handler" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#1d4ed8;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="320" y="190" width="150" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="flowEngine" value="Flow Engine (Slice 1)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#1d4ed8;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="520" y="190" width="170" height="50" as="geometry"/>
        </mxCell>

        <!-- Lane 3 box -->
        <mxCell id="outboundSender" value="Outbound Sender" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dcfce7;strokeColor=#166534;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="720" y="320" width="170" height="50" as="geometry"/>
        </mxCell>

        <!-- Edges Lane 1 -->
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="user" target="socialUi">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="socialUi" target="trigger">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="trigger" target="platformEvent">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Edge from Platform Event to Channel Adapter -->
        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="platformEvent" target="channelAdapter">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Edges Lane 2 -->
        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="channelAdapter" target="ingressHandler">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="ingressHandler" target="flowEngine">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Edge from Flow Engine to Outbound Sender -->
        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;endArrow=block;html=1;strokeColor=#4b5563;" edge="1" parent="1" source="flowEngine" target="outboundSender">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

